@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@using Microsoft.AspNetCore.Identity
@using Restaurant_page
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager


<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>@ViewBag.Title</title>
    <link href="~/CSS/style.css" rel="stylesheet" type="text/css" />
</head>
<body>
    <div>
        <nav>
            <ul>
                <li><a asp-page="/Index">Home</a></li>
                <li><a asp-page="/OrderMenu">Menu</a></li>
                <li><a asp-page="/Contact">Contact Us</a></li>
                @if (SignInManager.IsSignedIn(User) == false)
                {
                    <li><a asp-page="/Account/Login">Login/Register</a></li>
                }
                </ul>
        </nav>
        <div class="greeting, logout">
            @if (SignInManager.IsSignedIn(User))
            {
                <h2>Hello @UserManager.GetUserName(User)</h2>
                @if (User.IsInRole("Admin"))
                {
                    <p>Logged in as Admin</p>
                    <p><a asp-page="/OrderMenu">Edit Menu</a></p>
                    <p><a asp-page="/AddMenuItem">Add Item to Menu</a></p>

                }
                <p><a asp-page="/Checkout">Checkout / See Basket</a></p>
                <form asp-controller="Account" asp-action="Logout" method="post">
                    <button type="submit">Log out</button>
                </form>
            }
        </div>
        @RenderBody()
    </div>
</body>
</html>
